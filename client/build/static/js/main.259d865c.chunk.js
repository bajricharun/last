(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(33),c=n.n(i),o=(n(39),n(5)),r=n(6),l=n(8),h=n(7),u=n(9),m=n(3),d=n(16),j=(n(40),n(0)),b=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={user_id:0,hits:[]},s}return Object(r.a)(n,[{key:"logOut",value:function(e){e.preventDefault(),localStorage.removeItem("usertoken"),this.props.history.push("/")}},{key:"componentDidMount",value:function(){if(localStorage.getItem("usertoken")){var e=Object(d.a)(localStorage.getItem("usertoken"));this.setState({user_id:e.id})}}},{key:"render",value:function(){var e=Object(j.jsxs)("ul",{className:"navbar-nav",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(u.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(u.b,{to:"/register",className:"nav-link",children:"Register"})})]}),t=Object(j.jsxs)("ul",{className:"navbar-nav",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(u.b,{to:"/profile/".concat(this.state.user_id),className:"nav-link",children:"Profile"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{href:"",onClick:this.logOut.bind(this),className:"nav-link",children:"Logout"})})]});return Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg rounded",children:[Object(j.jsx)("button",{className:"navbar-toggler btn-outline-light",type:"button","data-toggle":"collapse","data-target":"#navbarsExample10","aria-controls":"navbarsExample10","aria-expanded":"true","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"fa fa-bars"})}),Object(j.jsxs)("div",{className:"collapse navbar-collapse justify-content-md-center",id:"navbarsExample10",children:[Object(j.jsx)("ul",{className:"navbar-nav",children:Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(u.b,{to:"/",className:"nav-link",children:"Home"})})}),localStorage.usertoken?t:e]}),Object(j.jsx)("h4",{children:"askIT"})]})}}]),n}(s.Component),O=Object(m.e)(b),x=n(13),p=n(2),v=n(15),f=n.n(v),g=function(e){return f.a.post("/comments/addComment",{commentText:e.commentText,user_id:e.user_id,question_id:e.post_id}).catch((function(e){console.log(e)}))},N=(n(21),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={questionTitle:"",questionText:"",user_id:localStorage.getItem("usertoken"),commentText:"",errors:{},hits:[]},s.onChange=s.onChange.bind(Object(p.a)(s)),s.onSubmit=s.onSubmit.bind(Object(p.a)(s)),s.changeComment=s.changeComment.bind(Object(p.a)(s)),s.commentFunction=s.commentFunction.bind(Object(p.a)(s)),s}return Object(r.a)(n,[{key:"onChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"changeComment",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var n,s={questionTitle:this.state.questionTitle,questionText:this.state.questionText,user_id:this.state.user_id};(n=s,f.a.post("questions/create",{questionTitle:n.questionTitle,questionText:n.questionText,user_id:n.user_id}).catch((function(e){console.log(e)}))).then((function(e){e&&t.props.history.push("/")}))}},{key:"commentFunction",value:function(e){var t=this;e.preventDefault();var n={commentText:this.state.commentText,user_id:this.state.user_id};g(n).then((function(e){e&&t.props.history.push("/")}))}},{key:"componentDidMount",value:function(){var e=this;fetch("/questions/showAll").then((function(e){return e.json()})).then((function(t){e.setState({hits:t}),console.log(t)}))}},{key:"render",value:function(){var e=Object(j.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(j.jsx)("h3",{children:"Post a new question"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"questionTitle",children:"Question Title"}),Object(j.jsx)("input",{type:"text",className:"form-control",name:"questionTitle",placeholder:"Enter title",value:this.state.questionTitle,onChange:this.onChange})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"questionText",children:"Question Text"}),Object(j.jsx)("textarea",{className:"form-control",name:"questionText",placeholder:"Text",value:this.state.questionText,onChange:this.onChange})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-md btn-primary btn-block",children:"Post the question"})]}),t=Object(j.jsxs)("p",{children:["If you ",Object(j.jsx)(u.b,{to:"/register",children:"register"})," to our page you could contribute with answers and questions. "]});return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-md-8 mt-5 mx-auto",children:[localStorage.usertoken?e:t,Object(j.jsx)("h3",{children:"Latest Questions"}),Object(j.jsx)("div",{className:"row",children:this.state.hits.map((function(e){return Object(j.jsxs)("div",{className:"post col-md-10 mt-5 mx-auto",children:[Object(j.jsx)("h5",{children:e.questionTitle}),Object(j.jsxs)("p",{children:["Date posted: ",e.createdAt]}),Object(j.jsx)(u.b,{to:"/post/".concat(e.id),className:"linked",children:"Read more..."}),Object(j.jsx)("br",{})]})}))})]})})]})}}]),n}(s.Component)),k=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(p.a)(e)),e.onSubmit=e.onSubmit.bind(Object(p.a)(e)),e}return Object(r.a)(n,[{key:"onChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),function(e){return f.a.post("/users/login",{email:e.email,password:e.password,id:e.id}).then((function(e){return localStorage.setItem("usertoken",e.data),e.data})).catch((function(e){console.log(e)}))}({email:this.state.email,password:this.state.password}).then((function(e){e&&(console.log("ok"),t.props.history.push("/"))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-6 mt-5 mx-auto",children:Object(j.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(j.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Please sign in"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(j.jsx)("input",{type:"email",className:"form-control",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChange})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary btn-block",children:"Sign in"})]})})})})}}]),n}(s.Component),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={first_name:"",last_name:"",email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(p.a)(e)),e.onSubmit=e.onSubmit.bind(Object(p.a)(e)),e}return Object(r.a)(n,[{key:"onChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),function(e){return f.a.post("users/register",{first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password}).then((function(e){console.log("Registered")}))}({first_name:this.state.first_name,last_name:this.state.last_name,email:this.state.email,password:this.state.password}).then((function(e){t.props.history.push("/")}))}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-6 mt-5 mx-auto",children:Object(j.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(j.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Register"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"First name"}),Object(j.jsx)("input",{type:"text",className:"form-control",name:"first_name",placeholder:"Enter your first name",value:this.state.first_name,onChange:this.onChange})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Last name"}),Object(j.jsx)("input",{type:"text",className:"form-control",name:"last_name",placeholder:"Enter your lastname name",value:this.state.last_name,onChange:this.onChange})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(j.jsx)("input",{type:"email",className:"form-control",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChange})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary btn-block",children:"Register!"})]})})})})}}]),n}(s.Component),y=[],C=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={ID:e.match.params.id,first_name:"",last_name:"",email:"",user_id:"",errors:{},hits:[],posts:[],decoded:[]},s.onClick=s.onClick.bind(Object(p.a)(s)),s}return Object(r.a)(n,[{key:"onClick",value:function(){}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("usertoken");t&&(y=Object(d.a)(t));var n=JSON.stringify(y.id);this.setState({user_id:n}),fetch("".concat("/users/profile","/").concat(this.state.ID)).then((function(e){return e.json()})).then((function(t){e.setState({hits:t}),e.setState({posts:t.questions}),console.log(e.state.hits)}))}},{key:"render",value:function(){var e=Object(j.jsx)("div",{}),t=Object(j.jsx)("button",{className:"btn btn-outline-dark",children:Object(j.jsx)(u.b,{to:"/settings",children:"Settings"})});return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"jumbotron mt-5",children:[Object(j.jsx)("div",{className:"col-sm-8 mx-auto",children:Object(j.jsx)("h1",{className:"text-center",children:"PROFILE"})}),Object(j.jsxs)("table",{className:"table col-md-6 mx-auto",children:[this.state.ID===this.state.user_id?t:e,Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Fist Name"}),Object(j.jsx)("td",{children:this.state.hits.first_name})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Last Name"}),Object(j.jsx)("td",{children:this.state.hits.last_name})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Email"}),Object(j.jsx)("td",{children:this.state.hits.email})]})]})]})]}),Object(j.jsxs)("div",{className:"col-md-8 mx-auto",children:[Object(j.jsx)("h3",{children:"Questions by the user"}),this.state.posts.map((function(e){return Object(j.jsxs)("div",{className:"post col-md-10 mt-5 mx-auto",children:[Object(j.jsx)("h5",{children:e.questionTitle}),Object(j.jsxs)("p",{children:["Date posted: ",e.createdAt]}),Object(j.jsx)(u.b,{to:"/post/".concat(e.id),className:"linked",children:"Read more..."}),Object(j.jsx)("br",{})]})}))]})]})}}]),n}(s.Component),S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={ID:e.match.params.id,user_id:localStorage.getItem("usertoken"),id:0,commentText:"",hits:[],user:[],comments:[],comments_user:[],likes:0,questionTitle:"",questionText:""},s.edited=s.edited.bind(Object(p.a)(s)),s.changeComment=s.changeComment.bind(Object(p.a)(s)),s.commentFunction=s.commentFunction.bind(Object(p.a)(s)),s.liked=s.liked.bind(Object(p.a)(s)),s.onChange=s.onChange.bind(Object(p.a)(s)),s}return Object(r.a)(n,[{key:"liked",value:function(){var e,t={post_id:this.state.ID};e=t,f.a.post("/likes/addLike",{question_id:e.post_id}).catch((function(e){console.log(e)}))}},{key:"onChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"edited",value:function(){var e,t={id:this.state.ID,questionText:this.state.questionText,questionTitle:this.state.questionTitle};e=t,f.a.get("/questions/edit",{id:e.id,questionText:e.questionText,questionTitle:e.questionTitle}).catch((function(e){console.log(e)}))}},{key:"commentFunction",value:function(e){e.preventDefault();var t={commentText:this.state.commentText,post_id:this.state.ID,user_id:this.state.user_id};g(t)}},{key:"changeComment",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this,t=Object(d.a)(this.state.user_id);this.setState({id:t.id});var n=this.state.ID;fetch("".concat("/questions","/").concat(n)).then((function(e){return e.json()})).then((function(t){e.setState({hits:t}),e.setState({user:t.user})})).catch((function(e){console.log(e)})),fetch("".concat("/comments","/").concat(n)).then((function(e){return e.json()})).then((function(t){e.setState({comments:t}),e.setState({comments_user:t.user})})).catch((function(e){console.error(e)})),fetch("/likes/".concat(n)).then((function(e){return e.json()})).then((function(t){e.setState({likes:t.length})}))}},{key:"render",value:function(){this.edited,this.state.questionTitle,this.onChange,this.state.questionText,this.onChange;var e=Object(j.jsx)("div",{className:"comment col-md-8 mx-auto",children:Object(j.jsx)("form",{className:"commentForm",noValidate:!0,onSubmit:this.commentFunction,children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6 mx-auto",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Comment...",value:this.state.commentText,onChange:this.changeComment,name:"commentText"})}),Object(j.jsx)("div",{className:"col-md-3 mx-auto",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-outline-light form-control",children:"Comment"})})]})})}),t=Object(j.jsx)("div",{});return Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)("h3",{children:this.state.hits.questionTitle}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"post col-md-8 mt-5 mx-auto",children:[Object(j.jsxs)("div",{className:"smallLine col-md-12",children:[Object(j.jsx)("div",{children:Object(j.jsx)(u.b,{to:"/profile/".concat(this.state.user.id),children:Object(j.jsxs)("p",{children:[this.state.user.first_name," ",this.state.user.last_name]})})}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{style:{textAlign:"right"},children:this.state.hits.createdAt})})]}),Object(j.jsx)("h5",{children:this.state.hits.questionTitle}),Object(j.jsx)("p",{className:"textPost",children:this.state.hits.questionText}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"smallLineIcons col-md-12",children:Object(j.jsx)("div",{children:Object(j.jsxs)("button",{className:"btn btnDarkWhite",onClick:this.liked,children:[Object(j.jsx)("i",{className:"fa fa-thumbs-up icons"})," ",this.state.likes]})})})]}),this.state.user_id?e:t,this.state.comments.map((function(e){return Object(j.jsxs)("div",{className:"comments col-md-8 mx-auto",children:[Object(j.jsx)("div",{className:"smallLineNew col-md-12 mx-auto",children:Object(j.jsx)("p",{children:"Comment"})}),Object(j.jsx)("p",{children:e.commentText})]})}))]})]})}}]),n}(s.Component),T=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={oldPassword:"",newPassword:""},s.onChange=s.onChange.bind(Object(p.a)(s)),s.onSubmit=s.onSubmit.bind(Object(p.a)(s)),s}return Object(r.a)(n,[{key:"onChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var n=Object(d.a)(localStorage.getItem("usertoken"));(function(e){return f.a.post("/users/changeInfo",{oldPWD:e.oldPWD,newPWD:e.newPWD,user_id:e.user_id})})({oldPWD:this.state.oldPassword,newPWD:this.state.newPassword,user_id:n.id}).then((function(e){e&&t.props.history.push("/profile")}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Settings"}),Object(j.jsxs)("form",{className:"form-group col-md-4 mx-auto",onSubmit:this.onSubmit,children:[Object(j.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter old password",name:"oldPassword",value:this.state.oldPassword,onChange:this.onChange}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter new password",name:"newPassword",value:this.state.newPassword,onChange:this.onChange}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",className:"btn btn-outline-dark form-control",children:"Submit"})]})]})}}]),n}(s.Component),_=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsx)(u.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(O,{}),Object(j.jsx)(m.a,{exact:!0,path:"/",component:N}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(m.a,{exact:!0,path:"/register",component:w}),Object(j.jsx)(m.a,{exact:!0,path:"/login",component:k}),Object(j.jsx)(m.a,{exact:!0,path:"/settings",component:T}),Object(j.jsx)(m.a,{exact:!0,path:"/profile/:id",component:C}),Object(j.jsx)(m.a,{exact:!0,path:"/post/:id",component:S})]})]})})}}]),n}(s.Component),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))},D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");D?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):P(e)}))}}(),q()}},[[65,1,2]]]);
//# sourceMappingURL=main.259d865c.chunk.js.map