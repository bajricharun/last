{"ast":null,"code":"import _defineProperty from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import{posts,comments}from\"./UserFunctions\";import\"../styles/questions.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API=\"/questions/showAll\";var Landing=/*#__PURE__*/function(_Component){_inherits(Landing,_Component);var _super=_createSuper(Landing);function Landing(props){var _this;_classCallCheck(this,Landing);_this=_super.call(this,props);_this.state={questionTitle:'',questionText:'',user_id:localStorage.getItem(\"usertoken\"),commentText:'',errors:{},hits:[]};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.changeComment=_this.changeComment.bind(_assertThisInitialized(_this));_this.commentFunction=_this.commentFunction.bind(_assertThisInitialized(_this));return _this;}_createClass(Landing,[{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"changeComment\",value:function changeComment(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var new_question={questionTitle:this.state.questionTitle,questionText:this.state.questionText,user_id:this.state.user_id};posts(new_question).then(function(res){if(res){_this2.props.history.push('/');}});}},{key:\"commentFunction\",value:function commentFunction(e){var _this3=this;e.preventDefault();var new_comment={commentText:this.state.commentText,user_id:this.state.user_id};comments(new_comment).then(function(res){if(res)_this3.props.history.push('/');});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;fetch(API).then(function(response){return response.json();}).then(function(data){_this4.setState({hits:data});console.log(data);});}},{key:\"render\",value:function render(){var userInput=/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Post a new question\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"questionTitle\",children:\"Question Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"questionTitle\",placeholder:\"Enter title\",value:this.state.questionTitle,onChange:this.onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"questionText\",children:\"Question Text\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"questionText\",placeholder:\"Text\",value:this.state.questionText,onChange:this.onChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-md btn-primary btn-block\",children:\"Post the question\"})]});var loginNew=/*#__PURE__*/_jsxs(\"p\",{children:[\"If you \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"register\"}),\" to our page you could contribute with answers and questions. \"]});var div=/*#__PURE__*/_jsx(\"div\",{});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 mt-5 mx-auto\",children:[localStorage.usertoken?userInput:loginNew,/*#__PURE__*/_jsx(\"h3\",{children:\"Latest Questions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.hits.map(function(hit){return/*#__PURE__*/_jsxs(\"div\",{className:\"post col-md-10 mt-5 mx-auto\",children:[/*#__PURE__*/_jsx(\"h5\",{children:hit.questionTitle}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date posted: \",hit.createdAt]}),/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(hit.id),className:\"linked\",children:\"Read more...\"}),/*#__PURE__*/_jsx(\"br\",{})]});})})]})})]});}}]);return Landing;}(Component);export default Landing;","map":{"version":3,"sources":["/Users/harunbajric/work/_askIT/client/src/components/Landing.js"],"names":["React","Component","Link","posts","comments","API","Landing","props","state","questionTitle","questionText","user_id","localStorage","getItem","commentText","errors","hits","onChange","bind","onSubmit","changeComment","commentFunction","e","setState","target","name","value","preventDefault","new_question","then","res","history","push","new_comment","fetch","response","json","data","console","log","userInput","loginNew","div","usertoken","map","hit","createdAt","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport {posts, comments } from \"./UserFunctions\";\n import \"../styles/questions.css\";\nconst API = \"/questions/showAll\"\nclass Landing extends Component {\n  \n  constructor(props) {\n    super(props);\n      this.state = {\n        questionTitle: '',\n        questionText: '',\n        user_id: localStorage.getItem(\"usertoken\"),\n        commentText: '',\n        errors: {},\n        hits:[],\n    };\n\n    this.onChange = this.onChange.bind(this)\n    this.onSubmit = this.onSubmit.bind(this)\n    this.changeComment = this.changeComment.bind(this)\n    this.commentFunction = this.commentFunction.bind(this)\n  }\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  changeComment(e) {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  onSubmit(e) {\n    e.preventDefault()\n    const new_question = {\n      questionTitle: this.state.questionTitle,\n      questionText: this.state.questionText,\n      user_id: this.state.user_id,\n    }\n\n    posts(new_question).then(res => {\n      if (res) {\n        this.props.history.push('/')\n      }\n    })\n  }\n\n  commentFunction(e) {\n    e.preventDefault()\n    const new_comment = {\n      commentText: this.state.commentText,\n      user_id: this.state.user_id\n    }\n    comments(new_comment).then(res => {\n      if(res)\n        this.props.history.push('/')\n    })\n  }\n\ncomponentDidMount(){\n  fetch(API)\n  .then(response => response.json())\n  .then(data => {this.setState({hits:data}); console.log(data)})\n}\n  render() {\n    const userInput = (\n      <form noValidate onSubmit={this.onSubmit}>\n            <h3>Post a new question</h3>\n              <div className=\"form-group\">\n                <label htmlFor=\"questionTitle\">Question Title</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"questionTitle\"\n                  placeholder=\"Enter title\"\n                  value={this.state.questionTitle}\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"questionText\">Question Text</label>\n                <textarea\n                  className=\"form-control\"\n                  name=\"questionText\"\n                  placeholder=\"Text\"\n                  value={this.state.questionText}\n                  onChange={this.onChange}\n                />\n              </div>\n              <button\n                type=\"submit\"\n                className=\"btn btn-md btn-primary btn-block\"\n              >\n                Post the question\n              </button>\n            </form>\n          \n    )\n\n\n    const loginNew = (\n      <p>If you <Link to=\"/register\">register</Link> to our page you could contribute with answers and questions. </p>\n    )\n    const div = (\n      <div></div>\n    )\n    return (\n\n        <div className=\"container\">\n          <br/>\n            <div className=\"row\">\n          <div className=\"col-md-8 mt-5 mx-auto\">\n          {localStorage.usertoken ? userInput : loginNew}\n            \n        <h3>Latest Questions</h3>\n        <div className='row'>\n          {\n            this.state.hits.map(hit =>\n                <div className=\"post col-md-10 mt-5 mx-auto\">\n                    <h5>{hit.questionTitle}</h5>\n                    <p>Date posted: {hit.createdAt}</p>\n                      <Link to={`/post/${hit.id}`} className=\"linked\">\n                        Read more...\n                      </Link>\n                    <br/>\n                </div>\n              )\n          }\n        </div>\n      </div>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default Landing;"]},"metadata":{},"sourceType":"module"}