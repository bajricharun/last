{"ast":null,"code":"import _defineProperty from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/harunbajric/work/_askIT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{changeUserInfo}from\"./UserFunctions\";import\"../styles/questions.css\";import jwt_decode from'jwt-decode';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Settings=/*#__PURE__*/function(_Component){_inherits(Settings,_Component);var _super=_createSuper(Settings);function Settings(props){var _this;_classCallCheck(this,Settings);_this=_super.call(this,props);_this.state={oldPassword:'',newPassword:''};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Settings,[{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var decoded=jwt_decode(localStorage.getItem(\"usertoken\"));var data={oldPWD:this.state.oldPassword,newPWD:this.state.newPassword,user_id:decoded.id};changeUserInfo(data).then(function(res){if(res){_this2.props.history.push('/profile');}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Settings\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-group col-md-4 mx-auto\",onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Enter old password\",name:\"oldPassword\",value:this.state.oldPassword,onChange:this.onChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Enter new password\",name:\"newPassword\",value:this.state.newPassword,onChange:this.onChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-dark form-control\",children:\"Submit\"})]})]});}}]);return Settings;}(Component);export default Settings;","map":{"version":3,"sources":["/Users/harunbajric/work/_askIT/client/src/components/Settings.js"],"names":["React","Component","changeUserInfo","jwt_decode","Settings","props","state","oldPassword","newPassword","onChange","bind","onSubmit","e","setState","target","name","value","preventDefault","decoded","localStorage","getItem","data","oldPWD","newPWD","user_id","id","then","res","history","push"],"mappings":"06BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,cAAR,KAA8B,iBAA9B,CACC,MAAO,yBAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,C,2FACKC,CAAAA,Q,oGAEJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EACE,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,EADF,CAEXC,WAAW,CAAE,EAFF,CAAb,CAKF,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB,CACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcD,IAAd,+BAAhB,CARiB,aASlB,C,6CACD,kBAASE,CAAT,CAAY,CACV,KAAKC,QAAL,oBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,CAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C,GACD,C,wBACD,kBAASJ,CAAT,CAAY,iBACVA,CAAC,CAACK,cAAF,GACA,GAAMC,CAAAA,OAAO,CAAGf,UAAU,CAACgB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAD,CAA1B,CACA,GAAMC,CAAAA,IAAI,CAAG,CACXC,MAAM,CAAE,KAAKhB,KAAL,CAAWC,WADR,CAEXgB,MAAM,CAAE,KAAKjB,KAAL,CAAWE,WAFR,CAGXgB,OAAO,CAAEN,OAAO,CAACO,EAHN,CAAb,CAMAvB,cAAc,CAACmB,IAAD,CAAd,CAAqBK,IAArB,CAA0B,SAAAC,GAAG,CAAI,CAC/B,GAAIA,GAAJ,CAAS,CACP,MAAI,CAACtB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACD,CACF,CAJD,EAKD,C,sBAED,iBAAS,CACP,mBACE,aAAM,SAAS,CAAC,WAAhB,wBACE,gCADF,cAEE,cAAM,SAAS,CAAC,6BAAhB,CAA8C,QAAQ,CAAE,KAAKlB,QAA7D,wBACE,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,WAAW,CAAC,oBAA5D,CAAiF,IAAI,CAAC,aAAtF,CAAoG,KAAK,CAAE,KAAKL,KAAL,CAAWC,WAAtH,CAAmI,QAAQ,CAAE,KAAKE,QAAlJ,EADF,cAC+J,aAD/J,cAEE,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,WAAW,CAAC,oBAA5D,CAAiF,IAAI,CAAC,aAAtF,CAAoG,KAAK,CAAE,KAAKH,KAAL,CAAWE,WAAtH,CAAmI,QAAQ,CAAE,KAAKC,QAAlJ,EAFF,cAE+J,aAF/J,cAGE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mCAAhC,oBAHF,GAFF,GADF,CAUD,C,sBA1CoBR,S,EA6CvB,cAAeG,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react'\nimport {changeUserInfo } from \"./UserFunctions\";\n import \"../styles/questions.css\";\n import jwt_decode from 'jwt-decode';\nclass Settings extends Component {\n  \n  constructor(props) {\n    super(props);\n      this.state = {\n        oldPassword: '',\n        newPassword: '',\n      };\n\n    this.onChange = this.onChange.bind(this)\n    this.onSubmit = this.onSubmit.bind(this)\n  }\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  onSubmit(e) {\n    e.preventDefault()\n    const decoded = jwt_decode(localStorage.getItem(\"usertoken\"))\n    const data = {\n      oldPWD: this.state.oldPassword,\n      newPWD: this.state.newPassword,\n      user_id: decoded.id,\n    }\n\n    changeUserInfo(data).then(res => {\n      if (res) {\n        this.props.history.push('/profile')\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div  className=\"container\">\n        <h1>Settings</h1>\n        <form className='form-group col-md-4 mx-auto' onSubmit={this.onSubmit}>\n          <input type=\"password\" className=\"form-control\" placeholder=\"Enter old password\" name=\"oldPassword\" value={this.state.oldPassword} onChange={this.onChange}/><br/>\n          <input type=\"password\" className=\"form-control\" placeholder=\"Enter new password\" name=\"newPassword\" value={this.state.newPassword} onChange={this.onChange}/><br/>\n          <button type=\"submit\" className=\"btn btn-outline-dark form-control\">Submit</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Settings;"]},"metadata":{},"sourceType":"module"}